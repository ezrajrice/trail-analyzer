{% extends "trail_analyzer/base.html" %}

{% block app_navigation_items %}
  <li class="active"><a href="">Home</a></li>
{% endblock %}

{% block app_content %}
  <div id='mapDiv'></div>
{% endblock %}

{% block app_actions %}
{% endblock %}

{% block content_dependent_styles %}
  {{ block.super }}
  <link href="https://js.arcgis.com/3.15/esri/css/esri.css" rel="stylesheet"/>
  <link href="https://geoserver.byu.edu:6443/arcgis/rest/static/jsapi.css" rel="stylesheet"/>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script type="text/javascript" src="https://js.arcgis.com/3.15/init.js"></script>
  <script type="text/javascript">
 	 
 	//This "require" function is used by the ESRI/DOJO system. It loads modules and then runs the "function" code
 	//So your custom code for the most part goes in the function block below.
 	require([
 	"esri/layers/ArcGISDynamicMapServiceLayer",
 	"esri/layers/ArcGISTiledMapServiceLayer",
 	"esri/map",
 	"dojo/domReady!"
 	],
 	function(ArcGISDynamicMapServiceLayer, ArcGISTiledMapServiceLayer, Map, parser){
 	//This is the main function that will run once the page has fully loaded
 	//Create a map object with a default "streets" basemap:
 	var map = new Map("mapDiv", {basemap: "streets", center: [-111.6, 40.23], zoom:12});
 	 
 	//Create a layer object that pulls your web mapping service from the geoserver.byu.edu server:
 	var layer;
 	layer = new ArcGISDynamicMapServiceLayer("https://geoserver.byu.edu:6443/arcgis/rest/services/dan_ames/walmart/MapServer");
 	map.addLayer(layer);
 	});
  </script>
{% endblock %}